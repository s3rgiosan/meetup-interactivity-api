import*as t from"@wordpress/interactivity";var e={d:(t,o)=>{for(var i in o)e.o(o,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:o[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};const o=(n={getContext:()=>t.getContext,store:()=>t.store},r={},e.d(r,n),r),{state:i,actions:a}=(0,o.store)("meetup/movie-favorite",{state:{get buttonText(){const t=(0,o.getContext)();return t.isFavorite?t.removeText:t.addText}},actions:{async addFavorite(){const t=(0,o.getContext)(),e=await fetch("/wp-json/movie-watchlist/v1/add",{method:"POST",body:JSON.stringify({postId:t.movieId}),headers:{"X-WP-Nonce":t.nonce,"Content-Type":"application/json"},credentials:"same-origin"});return await e.json()},async removeFavorite(){const t=(0,o.getContext)(),e=await fetch("/wp-json/movie-watchlist/v1/remove",{method:"POST",body:JSON.stringify({postId:t.movieId}),headers:{"X-WP-Nonce":t.nonce,"Content-Type":"application/json"},credentials:"same-origin"});return await e.json()},*toggleFavorite(){const t=(0,o.getContext)();let e=null;t.isFavorite?(t.isFavorite=!1,e=yield a.removeFavorite()):(t.isFavorite=!0,e=yield a.addFavorite()),i.watchlist=e?.watchlist}}});var n,r;